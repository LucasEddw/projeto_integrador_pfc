<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
        integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="assets/styles/style.css">
    <link rel="stylesheet" href="assets/styles/footer.css">
    <link rel="stylesheet" href="assets/styles/leitor.css">
    <link rel="stylesheet" href="assets/styles/navbar.css">

    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

    <script src="assets/javascript/database/bancodados/conexao.js"></script>
    <script src="assets/javascript/database/getUser.js"></script>
    <script src="assets/javascript/database/modelo/comentario.js"></script>
    <script src="assets/javascript/database/modelo/usuario.js"></script>
    <script src="assets/javascript/database/formUser.js"></script>

    <title>Anima - INOS</title>
</head>

<body>

    <section id="livreto_full_screen" class="livreto-fullscren">
        <div class="livreto-paging">
            <span class="livreto-page-counter">Pg. 1 / 12</span>
            <div class="livreto-page-functions-box">
                <span id="livreto_full_screen_exit_btn">voltar</span>
            </div>
        </div>
        <img class="livreto-paginas livretoPaginas" src="#" alt="Livreto">
    </section>

    <section class="livreto-info">
        <a class="livreto-home-link" href="index.html">
            <h1 class="livreto-home-logo">Anima - INOS</h1>
        </a>

        <div class="account-root" id="account_root">

        </div>

        <div class="livreto-info-box">
            <h1 class="livreto-title title-blue">Podcast: Conexão Futura</h1>
            <h2 class="livreto-subtitle">Wifi 6 - A Revolução na Sua Conexão</h2>
            <span class="livreto-volume">Volume I</span>
            <span class="livreto-sinopse-title">Sinopse</span>
            <p class="livreto-sinopse-text text-dark">Neste Livreto Ilustrado sobre Wi-fi 6, iremos ter um dialogo entre
                dois personagens. Sendo eles Leo o entusiasta tech e Ana a co-apresentadora, eles estarão conduzindo um
                podcast, onde será explicado sobre o Wi-Fi 6. Venha, leia e Descubra!</p>
        </div>
    </section>
    <section class="livreto">
        <div class="livreto-paging">
            <span class="livreto-page-counter">Pg. 1 / 12</span>
            <div class="livreto-page-functions-box">
                <span id="align_scroll" class="livreto-page-func-roll">Alinhar Rolagem</span>
                <span id="full_screen" class="livreto-page-func-roll">Tela Cheia
                </span>
            </div>
        </div>
        <img class="livreto-paginas livretoPaginas" src="#" alt="Livreto">
    </section>
    <section class="comments-section">

        <h1 class="title-blue comments-title">Comentários</h1>

        <div class="comments-box">
            <div class="comments" id="comments">




            </div>
            <input maxlength="500" class="comment-input" type="text" name="comment_input" id="comment_input"
                placeholder="Digite Aqui...">
            <button class="comment-send-btn" onclick="postarComentarioForm()"><i
                    class="fa-solid fa-chevron-right"></i></button>
        </div>

    </section>
    <div id="footer-root"></div>

    <div id="render_react_components"></div>



    <script src="assets/javascript/components/footer.js" type="text/babel"></script>
    <!-- <script src="assets/javascript/components/renderReactComponents.js" type="text/babel"></script> -->
    <script src="assets/javascript/components/userCard.js" type="text/babel"></script>
    <script src="assets/javascript/utilidades/leitorFunc.js"></script>
    <script src="assets/javascript/database/bancodados/bdComentario.js"></script>

    <script>
        async function logout() {
            let supabase = await getSupabaseClient();

            const { error } = await supabase.auth.signOut();
            if (error) {
                console.error('Erro ao deslogar:', error.message);
            } else {
                console.log('Usuário deslogado com sucesso!');
            }
        }

        const paginas = [
            "assets/img/paginas/finalizado_capa.png",
            "assets/img/paginas/finalizado_pg_1.png",
            "assets/img/paginas/finalizado_pg_2.png",
            "assets/img/paginas/finalizado_pg_3.png",
            "assets/img/paginas/finalizado_pg_4.png",
            "assets/img/paginas/finalizado_pg_5.png",
            "assets/img/paginas/finalizado_pg_6.png",
            "assets/img/paginas/finalizado_pg_7.png",
            "assets/img/paginas/finalizado_pg_8.png",
            "assets/img/paginas/finalizado_pg_9.png",
            "assets/img/paginas/finalizado_pg_10.png",
            "assets/img/paginas/finalizado_contra_capa.png"
        ];

        let indiceAtual = 0;
        const livretoPaginaContador = document.querySelectorAll('.livreto-page-counter');
        
        const img = document.querySelectorAll(".livretoPaginas");
        img.forEach(imgs => {
            imgs.src = paginas[indiceAtual];
        });

        img.forEach(element=>{
            element.addEventListener("click", (event) => {
            let largura = element.offsetWidth;
            let x = event.offsetX; // posição do clique dentro da imagem
            if (x < largura / 2) {
                // Clicou na esquerda → imagem anterior
                indiceAtual--;
                if (indiceAtual < 0) {
                    indiceAtual = paginas.length - 1;
                }

            } else {
                // Clicou na direita → próxima imagem
                indiceAtual++;
                if (indiceAtual >= paginas.length) indiceAtual = 0;
            }

            livretoPaginaContador.forEach(contador =>{
                contador.innerText= `Pg. ${indiceAtual+1} / ${paginas.length}`;
            })

            img.forEach(imgs => {
                imgs.src = paginas[indiceAtual];
            });
        });
        })

    </script>
</body>

</html>